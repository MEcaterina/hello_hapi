pipeline:
  build:
    image: node:latest
    commands: npm install
  test:
    image: node:latest
    commands: npm run test
  publish-api-docker:
    image: plugins/docker:1.12
    username: tinka
    password: Tinkulita1990
    email: ecaterina.mirza@workland.com
    repo: tinka/test
    tags:
      - latest
    dockerfile: ./api/Dockerfile
    context: ./api/

  slack-notification:
    image: plugins/slack
    webhook: https://hooks.slack.com/services/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
    username: drone-ci
    channel: Tinka Mirza
    icon_emoji: ":rocket:"
